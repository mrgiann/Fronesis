---
import "./_services.css";
import ServicesCards from '../servicescards/servicescards.astro';
---

<section class="servicios">
  <div class="contenido">
    <h2 class="titulo-principal">Servicios de</h2>
    <h2 class="titulo-principal"><span class="resaltado">Desarrollo Web</span></h2>
    <p class="subtitulo">Todo lo que necesitas para tu presencia online</p>
    <div class="punto"></div>
    
    <div class="cards-container">
      <ServicesCards 
        title="Diseño Web"
        category="Interfaz & Estilo"
        description="Páginas web atractivas y profesionales que representan tu marca."
        image="/images/servicios/diseno.jpg"
        items={[
          "Diseño responsive",
          "Diseño moderno",
          "Fácil de usar"
        ]}
      />

      <ServicesCards 
        title="Sitios Responsive"
        category="Adaptabilidad Web"
        description="Tu sitio web se ve perfecto en todos los dispositivos y pantallas."
        image="/images/servicios/responsive.jpg" 
        items={[
          "Mobile-friendly",
          "Tablet optimizado",
          "Desktop completo"
        ]}
      />
      
      <ServicesCards 
        title="Carga Rápida"
        category="Optimización Técnica"
        description="Sitios web optimizados para cargar rápido y mantener a tus visitantes."
        image="/images/servicios/performance.jpg"
        items={[
          "Optimización de imágenes",
          "Código limpio",
          "Hosting rápido"
        ]}
      />

      <ServicesCards 
        title="SEO Básico"
        category="Posicionamiento Web"
        description="Configuración SEO para que tu sitio sea encontrado en Google."
        image="/images/servicios/seo.jpg"
        items={[
          "Meta tags",
          "Estructura optimizada",
          "URLs amigables"
        ]}
      />
    </div>
  </div>
</section>
<script type="module">
if (typeof window !== 'undefined') {
  // Seleccionamos solo los elementos del encabezado
  const headerElements = document.querySelectorAll('.titulo-principal, .subtitulo, .punto');

  function animateHeader() {
    const scrollTop = window.scrollY;
    const windowHeight = window.innerHeight;

    headerElements.forEach(el => {
      const rect = el.getBoundingClientRect();
      const elementTop = rect.top + scrollTop;

      // Cuánto del elemento está visible
      const visible = Math.min(Math.max(scrollTop + windowHeight - elementTop, 0), windowHeight);
      const progress = visible / windowHeight;

      // Movimiento desde abajo hacia arriba
      const translateY = 50 * (1 - progress);
      el.style.transform = "translateY(" + translateY + "px)";

      // Opacidad progresiva que llega a 1 antes de estar completamente visible
      const opacityFactor = 1.5;
      el.style.opacity = Math.min(progress * opacityFactor, 1).toString();
    });

    requestAnimationFrame(animateHeader);
  }

  animateHeader();
}
</script>